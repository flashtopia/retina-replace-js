/* ============================================================
 * retina-replace.min.js v1.0
 * http://github.com/leonsmith/retina-replace-js
 * ============================================================
 * Author: Leon Smith
 * Twitter: @nullUK
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
(function(b){var a=function(h,f){this.options=f;var g=b(h);var e=g.is("img");var d=e?g.attr("src"):g.backgroundImageUrl();var i=this.options.generateUrl(g,d);b("<img/>").attr("src",i).load(function(){if(e){g.attr("src",b(this).attr("src"))}else{g.backgroundImageUrl(b(this).attr("src"));g.backgroundSize(b(this)[0].width,b(this)[0].height)}g.attr("data-retina","complete")})};a.prototype={constructor:a};b.fn.retinaReplace=function(d){if(c()<=1){return this}return this.each(function(){var g=b(this);var f=g.data("retinaReplace");
var e=b.extend({},b.fn.retinaReplace.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("retinaReplace",(f=new a(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.retinaReplace.defaults={suffix:"_2x",generateUrl:function(f,d){var g=d.lastIndexOf(".");var h=d.substr(g+1);var e=d.substr(0,g);return e+this.suffix+"."+h}};b.fn.retinaReplace.Constructor=a;var c=function(){if(window.devicePixelRatio===undefined){return 1}return window.devicePixelRatio};b.fn.backgroundImageUrl=function(d){return d?this.each(function(){b(this).css("background-image",'url("'+d+'")')
}):b(this).css("background-image").replace(/url\(|\)|"|'/g,"")};b.fn.backgroundSize=function(e,d){var f=Math.floor(e/2)+"px "+Math.floor(d/2)+"px";b(this).css("background-size",f);b(this).css("-webkit-background-size",f)};b(function(){b("[data-retina='true']").retinaReplace()})})(window.jQuery);